<div class="modal-header">
  <h4 class="modal-title fs-4">
    Vacaciones del periodo {{ periodo.PeriodoVac }}
    <b>(pendientes {{ aEntero(periodo.Pendientes) }})</b>
  </h4>
  <button type="button" class="btn-close" aria-label="Close" (click)="cerrar()"></button>
</div>
<div class="modal-body">
  <form>
    <div class="row">
      <label
        for="fechaInicio"
        class="col-sm-3 col-form-label fw-bold"
      >
        Fecha inicio
      </label>
      <div class="col-sm-9">
        <input
          type="date"
          class="form-control"
          id="fechaInicio"
          name="fechaInicio"
          [(ngModel)]="filtros.fechaInicio"
          (ngModelChange)="calcularDiferenciaEnDias()">
      </div>
    </div>
    <div class="row mt-3">
      <label
        for="fechaFin"
        class="col-sm-3 col-form-label fw-bold"
      >
        Fecha fin
      </label>
      <div class="col-sm-9">
        <input
          type="date"
          class="form-control"
          id="fechaFin"
          name="fechaFin"
          [(ngModel)]="filtros.fechaFin"
          (ngModelChange)="calcularDiferenciaEnDias()">
      </div>
      <div class="row mt-3">
        <div class="col-sm-3 fw-bold">
          Dias a solicitar
        </div>
        <div class="col-sm-9 ps-3">
          {{ infoDiasSolicitar() }}
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-sm-3 fw-bold">
          Jefe responsable
        </div>
        <div class="col-sm-9 ps-3 d-flex align-items-center justify-content-between pe-0">
          @if (jefeResponsableSel) {
            {{ jefeResponsableSel.NombreCompleto }}
          } @else {
            <div class="d-flex justify-content-center">
              <div class="spinner-border spinner-border-sm" role="status">
                <span class="visually-hidden">Cargando...</span>
              </div>
            </div>
          }
          <button
            class="btn btn-link p-0"
            (click)="cambiarJefeResponsable()"
          >
            Cambiar
          </button>
        </div>
      </div>
    </div>
  </form>
</div>
<div class="modal-footer">
  <button
    type="button"
    class="btn btn-primary"
    [disabled]="fSolicitandoVacaciones"
    (click)="solicitarVacaciones()"
  >
    @if (fSolicitandoVacaciones) {
      <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
    }
    Solicitar vacaciones
  </button>
  <button
    type="button"
    class="btn btn-outline-secondary"
    (click)="cerrar()"
  >
    Cerrar
  </button>
</div>
